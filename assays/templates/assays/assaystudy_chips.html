{% extends "base.html" %}
{% load static %}

{% block load_js %}
    <script src="{% static "js/enter_override.js" %}"></script>
    {# Should any page be flaggable? #}
    {# <script src="{% static "js/flag.js" %}"></script> #}
    <script src="{% static "assays/assaystudy_tabs.js" %}"></script>
    {# Respective page's script here #}
    <script src="{% static "assays/assaystudy_chips.js" %}"></script>
{% endblock %}

{% block breadcrumbs %}
    <li><a href="/assays/assaystudy/editable_studies/">Editable Studies</a></li>
    <li>
        <a href="{{ object.get_absolute_url }}">{{ object }}</a>
    </li>
    <li class="active">
            Edit <em>{{ object }}</em>
    </li>
{% endblock %}

{% block content %}

{# Get the tabs #}
{% include 'assays/assaystudy_tabs.html' with study=object %}

<form enctype="multipart/form-data" class="form-horizontal" method="post">

    <h1>
        Edit <em>{{ object }}</em> Chips
    <br>
    {% csrf_token %}
    </h1>

    {% include "submit.html" with flag="y" group=form.instance.group.name %}

    {% include 'errors.html' %}

    {% include 'tracking.html' %}

    <legend>Study Chips</legend>

    {# Temporary #}
    <table id="chips" class="display table table-striped table-hover" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>Index</th>
            <th>Name</th>
            <th>Group</th>
            <th>Cells</th>
            <th>Compounds</th>
            <th>Settings</th>
        </tr>
    </thead>
    <tbody>
    {% for chip in chips %}
        {# CONTRIVED FOR NOW #}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td><input value="CHIP-{{ forloop.counter }}"></td>
            <td>
                <select>
                <option selected>Group 1</option>
                </select>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    {% endfor %}
    </tbody>
    </table>
    {# TODO #}
    {# Do we want a popup for editing individual chips? #}

    {# For displaying cells etc. #}
    {% include 'assays/component_displays.html' %}
</form>
{% endblock %}
