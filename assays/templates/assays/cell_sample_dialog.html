{# Relocate this include #}
<div hidden id="cell_sample_dialog" title="Choose a Cell Sample">
    <div class="row text-center padded-bottom">
        <a class="popup-link btn btn-lg btn-success" data-href="/cellsamples/cellsample/add?popup=1" data-window-name="cellsample" role="button">Create New Cell Sample</a>
    </div>
    <table id="cellsamples" class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Select</th>
                    <th>ID #</th>
                    <th>Receipt Date</th>
                    <th>Cell Type</th>
                    <th>Cell Origin</th>
                    <th>Supplier</th>
                    <th>Barcode/Lot#</th>
                    <th>Patient</th>
                </tr>
            </thead>

            <tbody>
            {% for cellsample in cellsamples %}
                <tr>
                    <td>
                        <button type="button" class="cellsample-selector btn btn-xs btn-primary" data-cell-sample-id="{{ cellsample.id }}" data-name="{{ cellsample }}">Select</button>
                    </td>
                    <td>{{ cellsample.id }}</td>
                    <td>{{ cellsample.receipt_date|date:"M d, Y" }}</td>
                    <td>{{ cellsample.cell_type }}</td>
                    <td>{{ cellsample.cell_subtype }}</td>
                    <td>{{ cellsample.supplier }}</td>
                    <td>{{ cellsample.barcode }}</td>
                    <td>
                        {% if cellsample.patient_age or cellsample.patient_gender != 'N' or cellsample.patient_condition %}
                            {{ cellsample.patient_age|default:"Unknown" }} year old {{ cellsample.patient_gender }}
                            {{ cellsample.patient_condition }}
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
    </table>
</div>
